# Security Check - Calls centralized Security Sentinel workflow
#
# Runs on push and pull request to scan for:
# - Hardcoded secrets (TruffleHog)
# - Vulnerable dependencies (Trivy)
# - Insecure code patterns (Semgrep)
#
# All checks are warn-only (non-blocking)

name: Security Check

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]

# Permissions required for security scanning
permissions:
  contents: read
  security-events: write
  actions: read

jobs:
  security:
    uses: irishrocker1125/aloysiusproductions-ops-core/.github/workflows/security-sentinel.yml@main
    permissions:
      contents: read
      security-events: write
      actions: read
    secrets: inherit
